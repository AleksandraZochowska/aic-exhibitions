(this["webpackJsonpaic-exhibitions"]=this["webpackJsonpaic-exhibitions"]||[]).push([[0],{21:function(e,t,a){},23:function(e,t,a){},24:function(e,t,a){},26:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(15),i=a.n(r),s=(a(21),a(4)),o=a.n(s),l=a(6),d=a(2),u=(a(23),a(24),a(0)),b=function(){return Object(u.jsx)("div",{className:"topbar",children:Object(u.jsx)("a",{className:"topbar__link",href:"/",rel:"noopener noreferrer",children:Object(u.jsx)("h1",{className:"topbar__link-text",children:"The Art Institute of Chicago - Exhibitions"})})})},j=(a(26),function(e){var t=e.content,a=e.trIndex,c=Object(n.useState)(!1),r=Object(d.a)(c,2),i=r[0],s=r[1],o=function(e){s(!i),e.currentTarget.classList.toggle("row__td-description--expanded")};return Object(u.jsxs)("td",{"data-column":"Description",className:"row__td-description",onClick:function(e){return o(e)},children:[i?t:t.slice(0,200)+"...",Object(u.jsx)("span",{onClick:function(e){return o(e)},className:"expand-button",children:i?" SHOW LESS":" ...READ MORE"})]},"tr".concat(a,"description"))}),h=function(e){var t=e.tableHeadings,a=e.tableData,n=e.onHeadingClick,c=Object(u.jsx)("tr",{children:t.map((function(e,t){return Object(u.jsx)("th",{id:"Title"===e?"title":"Description"===e?"description":"Gallery"===e?"gallery_title":"Featured"===e?"is_featured":"Type of Exhibition"===e?"type":"unknown_heading",onClick:function(e){return n(e)},children:Object(u.jsx)("h2",{children:e})},t)}))}),r=a.map((function(e,t){var a=e.title,n=e.description,c=e.gallery_title,r=e.is_featured,i=e.type,s=e.status,o=Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("td",{"data-column":"Title",children:a||"\u2014"},"tr".concat(t,"title")),n?Object(u.jsx)(j,{content:n,trIndex:t}):Object(u.jsx)("td",{"data-column":"Description",className:"row__td-description",children:"\u2014"},"tr".concat(t,"description")),Object(u.jsx)("td",{"data-column":"Gallery",children:c||"\u2014"},"tr".concat(t,"gallerytitle")),Object(u.jsx)("td",{"data-column":"Featured",children:r||"\u2014"},"tr".concat(t,"isfeatured")),Object(u.jsx)("td",{"data-column":"Type of Exhibition",children:i||"\u2014"},"tr".concat(t,"type"))]});return"Closed"===s?Object(u.jsx)("tr",{className:"table-body__row table-body__row--closed",children:o},"tr".concat(t)):"Confirmed"===s?Object(u.jsx)("tr",{className:"table-body__row table-body__row--open",children:o},"tr".concat(t)):Object(u.jsx)("tr",{className:"table-body__row",children:o},"tr".concat(t))}));return Object(u.jsx)("div",{className:"table-container",children:Object(u.jsxs)("table",{className:"table-container__table",children:[Object(u.jsx)("thead",{className:"table__head",children:c}),Object(u.jsx)("tbody",{className:"table__body",children:r})]})})},p=a(16),f=a.n(p),O=(a(45),function(e){var t=e.onSearch,a=Object(n.useState)(""),c=Object(d.a)(a,2),r=c[0],i=c[1];return Object(u.jsx)("div",{className:"searchbar",children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)("input",{className:"searchbar__input",placeholder:"Search...",type:"text",value:r,onChange:function(e){i(e.target.value)},onKeyDown:function(e){!function(e){"Enter"===e.key&&""!==r&&t(r)}(e)}})}),Object(u.jsx)("li",{children:Object(u.jsx)("i",{className:"fas fa-search searchbar__icon",onClick:function(){""!==r&&t(r)}})})]})})}),x=(a(46),function(e){var t=e.currentPage,a=e.lastPage,c=e.onPageChange,r=Object(n.useState)(0),i=Object(d.a)(r,2),s=i[0],o=i[1];Object(n.useEffect)((function(){var e=function(){o(window.innerWidth)};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var l=function(e,t){for(var a=[],n=e;n<=t;n++)a.push(n);return a};return a<=1?null:Object(u.jsx)("nav",{children:Object(u.jsx)("div",{className:"pagination-container",children:Object(u.jsx)("ul",{className:"pagination-list",children:function(){var e=2;if(s>791){if(a<=9)return l(1,a);switch(t){case 1:case a:e=6;break;case 2:case a-1:e=5;break;case 3:case a-2:e=4;break;case 4:case a-3:e=3;break;default:e=2}return t<=4?l(1,t+e).concat(["\ud83e\udc16",a]):t>=a-3?[1,"\ud83e\udc14"].concat(l(t-e,a)):[1,"\ud83e\udc14"].concat(l(t-2,t+2)).concat(["\ud83e\udc16",a])}return e=1,1===t?[t,"\ud83e\udc16",a]:t===a?[1,"\ud83e\udc14",a]:[1,"\ud83e\udc14",t,"\ud83e\udc16",a]}().map((function(e,a){return Object(u.jsx)("li",{className:"\ud83e\udc14"===e?"pagination-list__item pagination-list__arrow--back":"\ud83e\udc16"===e?"pagination-list__item pagination-list__arrow--forward":e===t?"pagination-list__item--active pagination-list__number":"pagination-list__item pagination-list__number",onClick:function(t){c(t,e)},children:e},a)}))})})})});var m=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),i=Object(d.a)(r,2),s=i[0],j=i[1],p=Object(n.useState)([]),m=Object(d.a)(p,2),_=m[0],g=m[1],y=Object(n.useState)(1),v=Object(d.a)(y,2),w=v[0],k=v[1],N=Object(n.useState)(1),S=Object(d.a)(N,2),C=S[0],E=S[1],D=Object(n.useState)(""),P=Object(d.a)(D,2),T=P[0],A=P[1],H=Object(n.useState)(!0),I=Object(d.a)(H,2),L=I[0],Q=I[1],F=Object(n.useState)(""),G=Object(d.a)(F,2),M=G[0],W=G[1];Object(n.useEffect)((function(){c(!0)}),[]),Object(n.useEffect)((function(){q({pageNumber:w,searchQuery:T,sort:M})}),[w]);var q=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.pageNumber,n=t.searchQuery,r=t.sort,a=void 0===a||a<1?1:a>C?C:a,n=void 0===n?"":n,r=void 0===r?"":r,j(!1),c(!0),e.prev=6,e.next=9,f.a.get("".concat("https://api.artic.edu/api/v1/exhibitions","/search?").concat(n).concat(r),{params:{limit:30,page:a,fields:["title","is_featured","description","gallery_title","type","status"]}});case 9:i=e.sent,c(!1),g(i.data.data),E(i.data.pagination.total_pages),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(6),c(!1),j(!0);case 19:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,A("&q=".concat(t));case 4:1===w?q({searchQuery:"&q=".concat(t)}):k(1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(e,t){if(!a&&("number"===typeof t&&k(t),"string"===typeof t)){var n=1;if(window.matchMedia("(max-width: 791px)").matches&&(n=1),!window.matchMedia("(max-width: 791px)").matches)switch(w){case 1:case C:n=6;break;case 2:case C-1:n=5;break;case 3:case C-2:n=4;break;case 4:case C-3:n=3;break;default:n=2}"\ud83e\udc14"===t&&k(w-n),"\ud83e\udc16"===t&&k(w+n)}};return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("header",{className:"App-header",children:Object(u.jsx)(b,{})}),Object(u.jsxs)("main",{children:[Object(u.jsx)(O,{onSearch:z}),s?null:Object(u.jsx)(x,{currentPage:w,lastPage:C,onPageChange:J}),s?Object(u.jsx)("div",{className:"error-message",children:'"We\'re sorry, we cannot show you any exhibitions - try again!"'}):a?Object(u.jsx)("div",{className:"loading-message",children:"LOADING..."}):Object(u.jsx)(h,{tableData:_,tableHeadings:["Title","Description","Gallery","Featured","Type of Exhibition"],onHeadingClick:function(e){s||a||(L&&(Q(!1),W("&sort[title.keyword][order]=desc"),1===w?q({searchQuery:T,sort:"&sort[title.keyword][order]=desc"}):k(1)),L||(Q(!0),W("&sort[title.keyword][order]=asc"),1===w?q({searchQuery:T,sort:"&sort[title.keyword][order]=asc"}):k(1)))}}),a||s?null:Object(u.jsx)(x,{currentPage:w,lastPage:C,onPageChange:J})]})]})};i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(m,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.0c8070bd.chunk.js.map