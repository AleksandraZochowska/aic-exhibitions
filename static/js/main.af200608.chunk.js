(this["webpackJsonpaic-exhibitions"]=this["webpackJsonpaic-exhibitions"]||[]).push([[0],{25:function(e,t,a){},27:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(17),i=a.n(r),s=(a(25),a(6)),o=a.n(s),l=a(18),d=a(2),b=(a(27),a(19)),u=a.n(b),j=a(20),h=a.n(j),O=(a(58),a(0)),p=function(){return Object(O.jsx)("div",{className:"topbar",children:Object(O.jsx)("a",{className:"topbar__link",href:"/aic-exhibitions/",rel:"noopener noreferrer",children:Object(O.jsx)("h1",{className:"topbar__link-text",children:"The Art Institute of Chicago - Exhibitions"})})})},x=(a(60),function(e){var t=e.content,a=e.trIndex,n=Object(c.useState)(!1),r=Object(d.a)(n,2),i=r[0],s=r[1],o=function(e){s(!i),e.currentTarget.classList.toggle("row__td-description--expanded")};return Object(O.jsxs)("td",{"data-column":"Description",className:"row__td-description",onClick:function(e){return o(e)},children:[i?t:t.slice(0,200)+"...",Object(O.jsx)("span",{onClick:function(e){return o(e)},className:"expand-button",children:i?" SHOW LESS":" ...READ MORE"})]},"tr".concat(a,"description"))}),f=function(e){var t=e.tableHeadings,a=e.tableData,c=e.onHeadingClick,n=Object(O.jsx)("tr",{children:t.map((function(e,t){return Object(O.jsx)("th",{id:"Title"===e?"title":"Description"===e?"description":"Gallery"===e?"gallery_title":"Featured"===e?"is_featured":"Type of Exhibition"===e?"type":"unknown_heading",onClick:function(e){return c(e)},children:Object(O.jsx)("h2",{children:e})},t)}))}),r=a.map((function(e,t){var a=e.title,c=e.description,n=e.gallery_title,r=e.is_featured,i=e.type,s=e.status,o=Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("td",{"data-column":"Title",children:a||"\u2014"},"tr".concat(t,"title")),c?Object(O.jsx)(x,{content:c,trIndex:t}):Object(O.jsx)("td",{"data-column":"Description",className:"row__td-description",children:"\u2014"},"tr".concat(t,"description")),Object(O.jsx)("td",{"data-column":"Gallery",children:n||"\u2014"},"tr".concat(t,"gallerytitle")),Object(O.jsxs)("td",{"data-column":"Featured",children:[r?"Yes":"No",Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),"Confirmed"===s?"(Exh. OPEN)":"Closed"===s?"(Exh. CLOSED)":null]},"tr".concat(t,"isfeatured")),Object(O.jsx)("td",{"data-column":"Type of Exhibition",children:i||"\u2014"},"tr".concat(t,"type"))]});return"Closed"===s?Object(O.jsx)("tr",{className:"table-body__row table-body__row--closed",children:o},"tr".concat(t)):"Confirmed"===s?Object(O.jsx)("tr",{className:"table-body__row table-body__row--open",children:o},"tr".concat(t)):Object(O.jsx)("tr",{className:"table-body__row",children:o},"tr".concat(t))}));return Object(O.jsx)("div",{className:"table-container",children:Object(O.jsxs)("table",{className:"table-container__table",children:[Object(O.jsx)("thead",{className:"table__head",children:n}),Object(O.jsx)("tbody",{className:"table__body",children:r})]})})},m=(a(61),function(e){var t=e.onSearch,a=Object(c.useState)(""),n=Object(d.a)(a,2),r=n[0],i=n[1];return Object(O.jsx)("div",{className:"searchbar",children:Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:Object(O.jsx)("input",{className:"searchbar__input",placeholder:"Search...",type:"text",value:r,onChange:function(e){i(e.target.value)},onKeyDown:function(e){!function(e){"Enter"===e.key&&""!==r&&t(r)}(e)}})}),Object(O.jsx)("li",{children:Object(O.jsx)("i",{className:"fas fa-search searchbar__icon",onClick:function(){""!==r&&t(r)}})})]})})}),_=(a(62),function(e){var t=e.currentPage,a=e.lastPage,n=e.onPageChange,r=Object(c.useState)(0),i=Object(d.a)(r,2),s=i[0],o=i[1];Object(c.useEffect)((function(){var e=function(){o(window.innerWidth)};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var l=function(e,t){for(var a=[],c=e;c<=t;c++)a.push(c);return a};return a<=1?null:Object(O.jsx)("nav",{children:Object(O.jsx)("div",{className:"pagination-container",children:Object(O.jsx)("ul",{className:"pagination-list",children:function(){var e=2;if(s>791){if(a<=9)return l(1,a);switch(t){case 1:case a:e=6;break;case 2:case a-1:e=5;break;case 3:case a-2:e=4;break;case 4:case a-3:e=3;break;default:e=2}return t<=4?l(1,t+e).concat(["\ud83e\udc16",a]):t>=a-3?[1,"\ud83e\udc14"].concat(l(t-e,a)):[1,"\ud83e\udc14"].concat(l(t-2,t+2)).concat(["\ud83e\udc16",a])}return e=1,1===t?[t,"\ud83e\udc16",a]:t===a?[1,"\ud83e\udc14",a]:[1,"\ud83e\udc14",t,"\ud83e\udc16",a]}().map((function(e,a){return Object(O.jsx)("li",{className:"\ud83e\udc14"===e?"pagination-list__item pagination-list__arrow--back":"\ud83e\udc16"===e?"pagination-list__item pagination-list__arrow--forward":e===t?"pagination-list__item--active pagination-list__number":"pagination-list__item pagination-list__number",onClick:function(t){n(t,e)},children:e},a)}))})})})}),g="https://api.artic.edu/api/v1/exhibitions";var y=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!1),i=Object(d.a)(r,2),s=i[0],b=i[1],j=Object(c.useState)([]),x=Object(d.a)(j,2),y=x[0],v=x[1],w=Object(c.useState)(1),N=Object(d.a)(w,2),k=N[0],S=N[1],E=Object(c.useState)(1),C=Object(d.a)(E,2),D=C[0],P=C[1],T=Object(c.useState)(""),L=Object(d.a)(T,2),A=L[0],H=L[1],I=Object(c.useState)(!0),Q=Object(d.a)(I,2),F=Q[0],G=Q[1],M=Object(c.useState)(""),W=Object(d.a)(M,2),z=W[0],J=W[1];Object(c.useEffect)((function(){n(!0)}),[]),Object(c.useEffect)((function(){R({pageNumber:k,searchQuery:A,sort:z})}),[k]);var R=h()(function(){var e=Object(l.a)(o.a.mark((function e(t){var a,c,r,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.pageNumber,c=t.searchQuery,r=t.sort,a=void 0===a||a<1?1:a>D?D:a,c=void 0===c?"":c,i=(r=void 0===r?"":r)||c?"".concat(g,"/search?").concat(r):"".concat(g).concat(r),b(!1),n(!0),e.prev=7,e.next=10,u.a.get(i,{params:{q:c,page:a,limit:30,fields:"title,is_featured,description,gallery_title,type,status"}});case 10:s=e.sent,n(!1),v(s.data.data),P(s.data.pagination.total_pages),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(7),n(!1),b(!0);case 20:case"end":return e.stop()}}),e,null,[[7,16]])})));return function(t){return e.apply(this,arguments)}}(),6e4),q=function(e,t){if(!a&&("number"===typeof t&&S(t),"string"===typeof t)){var c=1;if(window.matchMedia("(max-width: 791px)").matches&&(c=1),!window.matchMedia("(max-width: 791px)").matches)switch(k){case 1:case D:c=6;break;case 2:case D-1:c=5;break;case 3:case D-2:c=4;break;case 4:case D-3:c=3;break;default:c=2}"\ud83e\udc14"===t&&S(k-c),"\ud83e\udc16"===t&&S(k+c)}};return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)("header",{className:"App-header",children:Object(O.jsx)(p,{})}),Object(O.jsxs)("main",{children:[Object(O.jsx)(m,{onSearch:function(e){a||(H(e),G(!0),1===k?R({searchQuery:e}):S(1))}}),s?null:Object(O.jsx)(_,{currentPage:k,lastPage:D,onPageChange:q}),s?Object(O.jsx)("div",{className:"message",children:"We're sorry, we cannot show you any exhibitions - try again!"}):a?Object(O.jsx)("div",{className:"loading-message",children:"LOADING..."}):D?Object(O.jsx)(f,{tableData:y,tableHeadings:["Title","Description","Gallery","Featured","Type of Exhibition"],onHeadingClick:function(e){if(!s&&!a){var t=e.currentTarget.id.trim(),c="title"===(t="description"===t?"title":"gallery_title"===t?"type":t)?".keyword":"description"===t?".text":"";F&&(G(!1),J("sort[".concat(t).concat(c,"][order]=desc")),1===k?R({searchQuery:A,sort:"sort[".concat(t).concat(c,"][order]=desc")}):S(1)),F||(G(!0),J("sort[".concat(t).concat(c,"][order]=asc")),1===k?R({searchQuery:A,sort:"sort[".concat(t).concat(c,"][order]=asc")}):S(1))}}}):Object(O.jsx)("div",{className:"message",children:"No exhibitions match your search."}),a||s?null:Object(O.jsx)(_,{currentPage:k,lastPage:D,onPageChange:q})]})]})};i.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(y,{})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.af200608.chunk.js.map